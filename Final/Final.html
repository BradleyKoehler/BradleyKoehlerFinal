<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>OVERLOOKED</title>

<style>
  :root {
    --accent: cadetblue;
    --bg: black;
    --font: "Helvetica Neue", Arial, sans-serif;
  }

  * { box-sizing: border-box; }

  html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    background: var(--bg);
    font-family: var(--font);
    overflow: hidden;
  }

  body {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 1.2rem;
  }

  button {
    background: none;
    border: 2px solid var(--accent);
    color: var(--accent);
    padding: 12px 30px;
    font-size: 0.85rem;
    letter-spacing: 0.3em;
    text-transform: uppercase;
    cursor: pointer;
    transition: all 0.25s ease;
    z-index: 10;
  }

  button:hover {
    background: var(--accent);
    color: black;
  }

  /* Intro image */
  .intro {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: url('Desk.jpeg') center center / cover no-repeat;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    z-index: 999;
  }

  .intro.hide { display: none; }

  .intro h1 {
    color: var(--accent);
    font-size: clamp(2rem, 5vw, 4rem);
    letter-spacing: 0.5em;
    text-transform: uppercase;
    text-shadow: 2px 2px 8px rgba(0,0,0,0.7);
  }

  .video-container {
    display: none;
    position: relative;
    width: 85vw;
    height: 80vh;
    background: black;
    justify-content: center;
    align-items: center;
  }

  .video-container.show { display: flex; }

  video {
    width: 100%;
    height: 100%;
    object-fit: contain;
    transition: transform 0.4s ease;
  }

  .rotate-video { transform: rotate(270deg); }

  .overlay-text {
    position: absolute;
    bottom: 6%;
    left: 50%;
    transform: translateX(-50%);
    color: var(--accent);
    font-size: clamp(1.2rem, 3vw, 2rem);
    letter-spacing: 0.35em;
    text-transform: uppercase;
    font-weight: 600;
    opacity: 0;
    transition: opacity 0.6s ease;
    text-shadow: 2px 2px 8px rgba(0,0,0,0.7);
    pointer-events: none;
    user-select: none;
    text-align: center;
  }

  .overlay-text.show { opacity: 1; }

  .footer {
    position: absolute;
    bottom: 10px;
    font-size: 0.65rem;
    letter-spacing: 0.25em;
    opacity: 0.4;
    color: var(--accent);
  }

  /* Regenerate button */
  #regenerateBtn {
    position: absolute;
    top: 20px;
    right: 20px;
    display: none;
  }

  #regenerateBtn.show { display: block; }
</style>
</head>

<body>

<!-- Intro -->
<div class="intro" id="intro">
  <h1>OVERLOOKED</h1>
  <button id="generateBtn">Generate</button>
</div>

<!-- Video container -->
<div class="video-container" id="videoContainer">
  <video id="videoPlayer" autoplay muted playsinline></video>
  <div id="overlayText" class="overlay-text"></div>
  <button id="regenerateBtn">Regenerate</button>
</div>

<div class="footer">each viewing is different</div>

<script>
const videoPlayer = document.getElementById("videoPlayer");
const overlayText = document.getElementById("overlayText");
const generateBtn = document.getElementById("generateBtn");
const regenerateBtn = document.getElementById("regenerateBtn");
const intro = document.getElementById("intro");
const videoContainer = document.getElementById("videoContainer");

// Arrays of shots
const arrays = [
  [
    { src: "videos/Array%201.1.mov", duration: 6, text: "You use them daily", rotate: true },
    { src: "videos/Array%201.2.mov", duration: 5, text: "You check it constantly", rotate: true }
  ],
  [
    { src: "videos/Array%201.3.mov", duration: 7, text: "You use it every morning", rotate: false },
    { src: "videos/Array%201.4.mov", duration: 6, text: "You grab it everyday", rotate: false }
  ],
  [
    { src: "videos/Array%202.1.mov", duration: 8, text: "You always turn it on before getting ready", rotate: false },
    { src: "videos/Array%202.2.mov", duration: 6, text: "You always use it after the bathroom", rotate: false },
    { src: "videos/Array%202.3.mov", duration: 7, text: "You open it multiple times a day", rotate: false }
  ],
  [
    { src: "videos/Array%203.1.mov", duration: 5, text: "It's always hanging in your room", rotate: false },
    { src: "videos/Array%203.2.mov", duration: 6, text: "It's always warming you", rotate: false },
    { src: "videos/Array%203.3.mov", duration: 8, text: "Always there in case you need it", rotate: false },
    { src: "videos/Array%203.4.mov", duration: 7, text: "You always plug stuff in", rotate: false }
  ],
  [
    { src: "videos/Array%204.1.mov", duration: 6, text: "You need it daily", rotate: false },
    { src: "videos/Array%204.2.mov", duration: 5, text: "You eat from it", rotate: false },
    { src: "videos/Array%204.3.mov", duration: 7, text: "You always use it before you go out", rotate: false },
    { src: "videos/Array%204.4.mov", duration: 6, text: "Use it twice daily", rotate: false },
    { src: "videos/Array%204.5.mov", duration: 8, text: "Always on", rotate: false }
  ]
];

function randomInt(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min;
}

// Shuffle array in-place
function shuffleArray(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = randomInt(0, i);
    [array[i], array[j]] = [array[j], array[i]];
  }
}

// Generate a playlist: one random shot per array and shuffle order
function generateVideoSequence() {
  const playlist = arrays.map(group => group[randomInt(0, group.length - 1)]);
  shuffleArray(playlist);
  playShot(playlist, 0);
}

function playShot(playlist, index) {
  if (index >= playlist.length) return;

  const shot = playlist[index];
  videoPlayer.classList.toggle("rotate-video", shot.rotate);
  videoPlayer.src = shot.src;

  overlayText.textContent = shot.text;
  overlayText.classList.remove("show");
  setTimeout(() => overlayText.classList.add("show"), randomInt(300, 1200));

  videoPlayer.load();
  videoPlayer.play();

  videoPlayer.onended = () => {
    overlayText.classList.remove("show");
    playShot(playlist, index + 1);
  };
}

// Start button
generateBtn.addEventListener("click", () => {
  intro.classList.add("hide");
  videoContainer.classList.add("show");
  regenerateBtn.classList.add("show");
  generateVideoSequence();
});

// Regenerate button
regenerateBtn.addEventListener("click", () => {
  generateVideoSequence();
});
</script>

</body>
</html>


